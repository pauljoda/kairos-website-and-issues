/* ===================================================================
   Kairos Public Site — Design System Aligned Stylesheet
   Tokens sourced from iOS app: ColorTokens, KSpacing, KRadius, KMotion
   =================================================================== */

/* --- Token layer: Light mode (default) --- */
:root {
  /* Brand / semantic accents */
  --color-primary: #5B3E7D;
  --color-solo-accent: #B46641;
  --color-partner-accent: #8564B8;
  --color-libido-gold: #B89431;

  /* Text — approximates iOS .label / .secondaryLabel / .tertiaryLabel */
  --text-primary: #1C1C1E;
  --text-body: rgba(60, 60, 67, 0.78);
  --text-muted: rgba(60, 60, 67, 0.42);

  /* Backdrop */
  --backdrop-base: #F0EBF6;
  --backdrop-top: #E5D9F2;
  --backdrop-bottom: #F2ECE0;

  /* Glass / surface */
  --card-tint: rgba(219, 200, 240, 0.48);
  --button-tint: #6A4A96;
  --glass-fill: rgba(219, 200, 240, 0.32);
  --glass-stroke: rgba(219, 200, 240, 0.5);
  --glass-backdrop: blur(20px) saturate(140%);

  /* Shadows */
  --shadow-soft: 0 8px 32px rgba(91, 62, 125, 0.10);
  --shadow-strong: 0 16px 48px rgba(91, 62, 125, 0.18);
  --shadow-button: 0 8px 24px rgba(106, 74, 150, 0.30);

  /* Radius (KRadius) */
  --radius-s: 10px;
  --radius-m: 14px;
  --radius-l: 18px;
  --radius-xl: 24px;
  --radius-action-button: 26px;
  --radius-pill: 999px;

  /* Spacing (KSpacing, 4px base grid) */
  --space-xs: 4px;
  --space-s: 8px;
  --space-m: 12px;
  --space-l: 16px;
  --space-xl: 20px;
  --space-xxl: 24px;
  --space-xxxl: 32px;
  --space-xxxxl: 40px;

  /* Motion (KMotion) */
  --motion-fast: 0.2s;
  --motion-medium: 0.4s;
  --motion-slow: 0.6s;
  --spring-ease: cubic-bezier(0.22, 0.7, 0.26, 1);

  /* Atmosphere */
  --orb-partner: rgba(133, 100, 184, 0.48);
  --orb-solo: rgba(180, 102, 65, 0.46);
  --noise-opacity: 0.05;

  /* Layout */
  --max-content-width: 720px;
  --page-max-width: 1140px;
}

/* --- Token layer: Dark mode (system preference) --- */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --color-primary: #B490DB;
    --color-solo-accent: #E09A7F;
    --color-partner-accent: #BFA8E3;
    --color-libido-gold: #DABE73;

    --text-primary: #F5F5F7;
    --text-body: rgba(235, 235, 245, 0.6);
    --text-muted: rgba(235, 235, 245, 0.3);

    --backdrop-base: #100E15;
    --backdrop-top: #1A1623;
    --backdrop-bottom: #15121C;

    --card-tint: rgba(50, 42, 66, 0.55);
    --button-tint: #8D6ABC;
    --glass-fill: rgba(50, 42, 66, 0.40);
    --glass-stroke: rgba(50, 42, 66, 0.55);

    --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.30);
    --shadow-strong: 0 16px 48px rgba(0, 0, 0, 0.45);
    --shadow-button: 0 8px 24px rgba(141, 106, 188, 0.35);

    --orb-partner: rgba(191, 168, 227, 0.28);
    --orb-solo: rgba(224, 154, 127, 0.24);
    --noise-opacity: 0.03;
  }
}

/* --- Token layer: Dark mode (manual toggle override) --- */
:root[data-theme="dark"] {
  --color-primary: #B490DB;
  --color-solo-accent: #E09A7F;
  --color-partner-accent: #BFA8E3;
  --color-libido-gold: #DABE73;

  --text-primary: #F5F5F7;
  --text-body: rgba(235, 235, 245, 0.6);
  --text-muted: rgba(235, 235, 245, 0.3);

  --backdrop-base: #100E15;
  --backdrop-top: #1A1623;
  --backdrop-bottom: #15121C;

  --card-tint: rgba(50, 42, 66, 0.55);
  --button-tint: #8D6ABC;
  --glass-fill: rgba(50, 42, 66, 0.40);
  --glass-stroke: rgba(50, 42, 66, 0.55);

  --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.30);
  --shadow-strong: 0 16px 48px rgba(0, 0, 0, 0.45);
  --shadow-button: 0 8px 24px rgba(141, 106, 188, 0.35);

  --orb-partner: rgba(191, 168, 227, 0.28);
  --orb-solo: rgba(224, 154, 127, 0.24);
  --noise-opacity: 0.03;
}

/* --- Reset --- */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

html,
body {
  margin: 0;
  min-height: 100%;
}

/* --- Body & atmosphere --- */
body {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue",
               system-ui, Arial, sans-serif;
  color: var(--text-body);
  background: var(--backdrop-base);
  line-height: 1.55;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* Gradient overlay — lavender top to amber bottom */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -3;
  background: linear-gradient(to bottom right, var(--backdrop-top), var(--backdrop-bottom));
  opacity: 0.8;
  pointer-events: none;
}

/* Noise texture via SVG feTurbulence */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.5'/%3E%3C/svg%3E");
  opacity: var(--noise-opacity);
  mix-blend-mode: overlay;
}

a {
  color: inherit;
}

img {
  max-width: 100%;
  height: auto;
}

/* --- Atmosphere (orbs + mesh) --- */
.atmosphere {
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
}

/* Ultra-thin material overlay */
.atmosphere::after {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--backdrop-base);
  opacity: 0.12;
  pointer-events: none;
}

.orb {
  position: absolute;
  border-radius: var(--radius-pill);
  filter: blur(40px);
  will-change: transform;
}

/* Partner accent (lavender) — top-right, matching KBackdrop */
.orb-lavender {
  width: 38rem;
  height: 38rem;
  background: radial-gradient(circle at 70% 30%, var(--orb-partner), transparent 70%);
  top: -12rem;
  right: -8rem;
}

/* Solo accent (amber) — bottom-left, matching KBackdrop */
.orb-amber {
  width: 40rem;
  height: 40rem;
  background: radial-gradient(circle at 30% 70%, var(--orb-solo), transparent 70%);
  bottom: -14rem;
  left: -9rem;
}

.mesh {
  position: absolute;
  inset: -8%;
  background-image:
    radial-gradient(circle at 22% 18%, rgba(255, 255, 255, 0.24), transparent 40%),
    radial-gradient(circle at 75% 54%, rgba(255, 255, 255, 0.18), transparent 36%),
    linear-gradient(200deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0));
  will-change: transform;
}

@media (prefers-color-scheme: dark) { :root:not([data-theme="light"]) .mesh {
  background-image:
    radial-gradient(circle at 22% 18%, rgba(255, 255, 255, 0.06), transparent 40%),
    radial-gradient(circle at 75% 54%, rgba(255, 255, 255, 0.04), transparent 36%),
    linear-gradient(200deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0));
} }
:root[data-theme="dark"] .mesh {
  background-image:
    radial-gradient(circle at 22% 18%, rgba(255, 255, 255, 0.06), transparent 40%),
    radial-gradient(circle at 75% 54%, rgba(255, 255, 255, 0.04), transparent 36%),
    linear-gradient(200deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0));
}

/* --- Layout --- */
.wrapper {
  width: min(var(--page-max-width), calc(100% - var(--space-xxl)));
  margin-inline: auto;
}

main {
  padding: var(--space-xxxl) 0 var(--space-xxxxl);
}

.section {
  margin-bottom: 3.5rem;
}

/* --- Glass surface --- */
.glass {
  background: var(--card-tint);
  border: 1px solid var(--glass-stroke);
  border-radius: var(--radius-l);
  box-shadow: var(--shadow-soft);
  backdrop-filter: var(--glass-backdrop);
  -webkit-backdrop-filter: var(--glass-backdrop);
}

/* --- Typography --- */
.eyebrow {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.11em;
  font-size: 0.73rem;
  font-weight: 700;
  color: var(--color-primary);
}

h1,
h2,
h3 {
  margin: 0;
  color: var(--text-primary);
  line-height: 1.1;
}

h1,
h2 {
  font-family: "Fraunces", "Times New Roman", serif;
}

h1 {
  margin-top: 0.72rem;
  font-size: clamp(2.4rem, 5.9vw, 4.8rem);
  font-weight: 700;
  letter-spacing: -0.015em;
  max-width: 13ch;
}

h2 {
  font-size: clamp(1.7rem, 3.5vw, 2.8rem);
  font-weight: 500;
  letter-spacing: -0.012em;
}

h3 {
  font-size: 1.25rem;
  font-weight: 600;
}

.section-head {
  margin-bottom: var(--space-xxl);
  max-width: 66ch;
}

/* --- Header / Nav --- */
.site-header {
  position: sticky;
  top: var(--space-s);
  z-index: 20;
  margin-top: var(--space-s);
  padding: var(--space-s) var(--space-l);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-l);
  border-radius: var(--radius-pill);
  background: var(--card-tint);
  border: 1px solid var(--glass-stroke);
  box-shadow: var(--shadow-soft);
  backdrop-filter: var(--glass-backdrop);
  -webkit-backdrop-filter: var(--glass-backdrop);
  transition: box-shadow var(--motion-fast) ease,
              background var(--motion-fast) ease;
}

.site-header.is-scrolled {
  background: var(--glass-fill);
  box-shadow: var(--shadow-strong);
}

.brand {
  text-decoration: none;
  color: var(--text-primary);
  font-family: "Fraunces", "Times New Roman", serif;
  font-size: clamp(1.38rem, 2vw, 1.76rem);
  font-weight: 700;
  letter-spacing: 0.02em;
  display: inline-flex;
  align-items: center;
  gap: 0.58rem;
}

.brand-icon {
  width: 2.2rem;
  height: 2.2rem;
  border-radius: 0.74rem;
  box-shadow: 0 6px 16px rgba(91, 62, 125, 0.25);
}

nav {
  display: flex;
  gap: 1.1rem;
  align-items: center;
  flex-wrap: wrap;
}

nav a {
  text-decoration: none;
  color: var(--text-body);
  font-size: 0.92rem;
  font-weight: 600;
  letter-spacing: 0.01em;
  opacity: 0.88;
  transition: opacity 180ms ease;
}

nav a:hover {
  opacity: 1;
}

.cta-link {
  padding: var(--space-s) var(--space-m);
  border-radius: var(--radius-pill);
  background: var(--button-tint);
  color: #fff !important;
  opacity: 1 !important;
  border: 1px solid rgba(255, 255, 255, 0.15);
  font-size: 0.88rem;
  transition: transform var(--motion-fast) var(--spring-ease),
              box-shadow var(--motion-fast) ease;
}

.cta-link:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-button);
}

/* Header actions container (theme toggle + hamburger) */
.header-actions {
  display: flex;
  align-items: center;
  gap: var(--space-s);
}

/* Theme toggle button */
.theme-toggle {
  background: none;
  border: 1px solid var(--glass-stroke);
  border-radius: var(--radius-pill);
  cursor: pointer;
  padding: 6px 8px;
  font-size: 1rem;
  line-height: 1;
  transition: transform var(--motion-fast) var(--spring-ease);
  display: inline-flex;
  align-items: center;
}

.theme-toggle:hover {
  transform: scale(1.1);
}

.theme-toggle .icon-sun { display: none; }
.theme-toggle .icon-moon { display: inline; }

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) .theme-toggle .icon-sun { display: inline; }
  :root:not([data-theme="light"]) .theme-toggle .icon-moon { display: none; }
}
:root[data-theme="dark"] .theme-toggle .icon-sun { display: inline; }
:root[data-theme="dark"] .theme-toggle .icon-moon { display: none; }
:root[data-theme="light"] .theme-toggle .icon-sun { display: none; }
:root[data-theme="light"] .theme-toggle .icon-moon { display: inline; }

/* Hamburger toggle (hidden on desktop) */
.nav-toggle {
  display: none;
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--space-s);
  flex-direction: column;
  gap: 5px;
}

.nav-toggle-bar {
  display: block;
  width: 22px;
  height: 2px;
  background: var(--text-primary);
  border-radius: 2px;
  transition: transform var(--motion-fast) var(--spring-ease),
              opacity var(--motion-fast) ease;
  transform-origin: center;
}

.nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(2) {
  opacity: 0;
}

.nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -5px);
}

/* --- Buttons --- */
.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.94rem;
  padding: 0 var(--space-xxl);
  height: 50px;
  border-radius: var(--radius-action-button);
  border: none;
  cursor: pointer;
  transition: transform var(--motion-fast) var(--spring-ease),
              box-shadow var(--motion-fast) ease;
}

.button:hover {
  transform: translateY(-1px);
}

.button:active {
  transform: translateY(0) scale(0.98);
}

.button.primary {
  color: #fff;
  background: var(--button-tint);
  box-shadow: var(--shadow-button);
  backdrop-filter: blur(12px) saturate(140%);
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.button.primary:hover {
  box-shadow: 0 12px 32px rgba(106, 74, 150, 0.40);
}

.button.secondary {
  color: var(--text-primary);
  background: var(--glass-fill);
  border: 1px solid var(--glass-stroke);
  backdrop-filter: var(--glass-backdrop);
  -webkit-backdrop-filter: var(--glass-backdrop);
}

.button.secondary:hover {
  background: var(--card-tint);
}

/* --- Hero section --- */
.hero {
  display: grid;
  grid-template-columns: 1.05fr 0.95fr;
  align-items: center;
  gap: var(--space-xxl);
  min-height: min(84vh, 960px);
}

.hero-copy {
  padding: clamp(var(--space-xl), 3.5vw, var(--space-xxxl));
  border-radius: var(--radius-xl);
}

.intro {
  max-width: 58ch;
  margin-top: var(--space-l);
  margin-bottom: var(--space-xxl);
  font-size: clamp(1rem, 1.7vw, 1.1rem);
}

.hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-m);
}

.hero-points {
  margin: var(--space-xxl) 0 0;
  padding: 0;
  list-style: none;
  display: flex;
  gap: var(--space-s);
  flex-wrap: wrap;
}

.hero-points li {
  padding: var(--space-xs) var(--space-m);
  border-radius: var(--radius-pill);
  font-size: 0.84rem;
  font-weight: 500;
  color: var(--text-primary);
  background: linear-gradient(
    135deg,
    rgba(180, 102, 65, 0.12),
    rgba(133, 100, 184, 0.1)
  );
  border: 1px solid var(--glass-stroke);
}

@media (prefers-color-scheme: dark) { :root:not([data-theme="light"]) .hero-points li {
  background: linear-gradient(135deg, rgba(224, 154, 127, 0.1), rgba(191, 168, 227, 0.08));
} }
:root[data-theme="dark"] .hero-points li {
  background: linear-gradient(135deg, rgba(224, 154, 127, 0.1), rgba(191, 168, 227, 0.08));
}

/* --- Phone stack (hero visual) --- */
.hero-visual {
  position: relative;
}

.phone-stack {
  position: relative;
  min-height: min(74vh, 860px);
  will-change: transform;
}

.phone {
  margin: 0;
  overflow: hidden;
  padding: 6px;
  border-radius: 2rem;
  width: min(20rem, 72vw);
}

.phone img {
  width: 100%;
  display: block;
  border-radius: 1.55rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
}

.phone-main {
  position: absolute;
  top: 0;
  left: 2%;
  transform: rotate(-3deg);
  box-shadow: var(--shadow-strong);
}

.phone-offset {
  position: absolute;
  right: 0;
  top: 20%;
  transform: rotate(7deg);
  z-index: 2;
}


/* --- Screenshot light/dark switching --- */
/* Show matching theme: dark screenshots in dark mode, light in light mode */
/* !important needed to beat .phone img and .preview-main .shot specificity */
.shot-dark { display: none !important; }
.shot-light { display: block !important; }

@media (prefers-color-scheme: dark) {
  .shot-dark { display: block !important; }
  .shot-light { display: none !important; }
}

/* Theme toggle override: [data-theme] on <html> takes priority over system pref */
:root[data-theme="light"] .shot-dark { display: none !important; }
:root[data-theme="light"] .shot-light { display: block !important; }
:root[data-theme="dark"] .shot-dark { display: block !important; }
:root[data-theme="dark"] .shot-light { display: none !important; }

/* --- Narrative / Why Kairos --- */
.story-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-m);
}

.story {
  padding: var(--space-l);
  min-height: 220px;
  transition: transform var(--motion-fast) var(--spring-ease),
              box-shadow var(--motion-fast) ease;
}

.story:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-strong);
}

.story:nth-child(1) { border-left: 3px solid var(--color-primary); }
.story:nth-child(2) { border-left: 3px solid var(--color-solo-accent); }
.story:nth-child(3) { border-left: 3px solid var(--color-partner-accent); }

.story-index {
  margin: 0 0 var(--space-s);
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--color-primary);
}

.story h3 {
  margin-bottom: var(--space-s);
}

.story p {
  margin: 0;
}

/* --- Feature showcase (alternating text + phone) --- */
.feature-showcase {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-xxxl);
  align-items: center;
  margin-bottom: 4rem;
}

.feature-showcase--reverse {
  direction: rtl;
}

.feature-showcase--reverse > * {
  direction: ltr;
}

.feature-showcase-copy {
  padding: var(--space-l) 0;
}

.feature-showcase-icon {
  font-size: 2rem;
  display: block;
  margin-bottom: var(--space-m);
}

.feature-showcase-copy h3 {
  font-size: 1.5rem;
  margin-bottom: var(--space-m);
}

.feature-showcase-copy p {
  margin: 0 0 var(--space-l);
  max-width: 52ch;
}

.feature-bullets {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: var(--space-s);
}

.feature-bullets li {
  padding-left: 1.4rem;
  position: relative;
  font-size: 0.92rem;
  color: var(--text-body);
}

.feature-bullets li::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.55em;
  width: 6px;
  height: 6px;
  border-radius: var(--radius-pill);
  background: var(--color-primary);
}

.feature-showcase-visual {
  display: flex;
  justify-content: center;
}

.feature-phone {
  margin: 0;
  overflow: hidden;
  padding: 6px;
  border-radius: 2rem;
  width: min(17rem, 100%);
  box-shadow: var(--shadow-strong);
}

.feature-phone img {
  width: 100%;
  display: block;
  border-radius: 1.55rem;
}

/* --- Section subtitle --- */
.section-subtitle {
  margin: var(--space-m) 0 0;
  max-width: 62ch;
  font-size: 1.05rem;
}

/* --- Insights section --- */
.insights-hero {
  display: grid;
  grid-template-columns: 0.45fr 0.55fr;
  gap: var(--space-xxxl);
  align-items: center;
  margin-bottom: 3rem;
}

.insights-hero-visual {
  display: flex;
  justify-content: center;
}

.insights-hero-copy h3 {
  font-size: 1.5rem;
  margin-bottom: var(--space-m);
}

.insights-hero-copy p {
  margin: 0 0 var(--space-xxl);
  max-width: 52ch;
}

/* Stat row */
.stat-row {
  display: flex;
  gap: var(--space-xxl);
}

.stat {
  display: flex;
  flex-direction: column;
}

.stat-value {
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--color-primary);
  line-height: 1;
}

.stat-label {
  margin-top: var(--space-xs);
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

/* Insights gallery — horizontal scroll with edge padding */
.insights-gallery-wrapper {
  /* Break out of .wrapper so scroll edges touch the viewport */
  width: 100vw;
  margin-left: calc(-50vw + 50%);
  overflow: hidden;
}

.insights-gallery {
  display: flex;
  gap: var(--space-l);
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--glass-stroke) transparent;
  /* Horizontal padding = center content with the .wrapper width */
  padding: var(--space-s) calc((100vw - min(var(--page-max-width), calc(100vw - var(--space-xxl)))) / 2);
  padding-bottom: var(--space-l);
}

.insight-card {
  scroll-snap-align: start;
  padding: var(--space-m);
  display: flex;
  flex-direction: column;
  flex: 0 0 min(300px, 76vw);
  border-radius: var(--radius-l);
  transition: transform var(--motion-fast) var(--spring-ease),
              box-shadow var(--motion-fast) ease;
}

.insight-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-strong);
}

.insight-card-visual {
  margin: 0 0 var(--space-m);
  border-radius: var(--radius-m);
  overflow: hidden;
}

.insight-card-visual img {
  width: 100%;
  display: block;
  box-shadow: 0 8px 24px rgba(42, 26, 58, 0.15);
}

@media (prefers-color-scheme: dark) { :root:not([data-theme="light"]) .insight-card-visual img {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
} }
:root[data-theme="dark"] .insight-card-visual img {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
}

.insight-card h4 {
  margin: 0 0 var(--space-xs);
  font-size: 1.08rem;
  font-weight: 600;
  color: var(--text-primary);
}

.insight-card p {
  margin: 0;
  font-size: 0.9rem;
}

/* --- Together section --- */
.together-showcase {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-l);
}

.together-card {
  padding: var(--space-xxl);
  text-align: center;
}

.together-card .feature-phone {
  margin: 0 auto var(--space-l);
}

.together-card h3 {
  margin-bottom: var(--space-s);
}

.together-card p {
  margin: 0 auto;
  max-width: 36ch;
}

/* Together revocation card */
.together-revocation {
  margin-top: var(--space-l);
  padding: var(--space-xxl) var(--space-xxxl);
  text-align: center;
  background: linear-gradient(
    135deg,
    var(--card-tint),
    rgba(180, 102, 65, 0.06)
  );
}

@media (prefers-color-scheme: dark) { :root:not([data-theme="light"]) .together-revocation {
  background: linear-gradient(135deg, var(--card-tint), rgba(224, 154, 127, 0.04));
} }
:root[data-theme="dark"] .together-revocation {
  background: linear-gradient(135deg, var(--card-tint), rgba(224, 154, 127, 0.04));
}

.revocation-icon {
  font-size: 2rem;
  margin-bottom: var(--space-m);
}

.together-revocation h3 {
  margin-bottom: var(--space-m);
}

.together-revocation p {
  margin: 0 auto;
  max-width: 56ch;
}

/* --- Privacy section --- */
.privacy-surface {
  display: grid;
  grid-template-columns: 1.28fr 0.72fr;
  gap: var(--space-xxl);
  align-items: center;
  padding: var(--space-xxl);
  background: linear-gradient(
    135deg,
    var(--card-tint),
    rgba(180, 102, 65, 0.06)
  );
}

@media (prefers-color-scheme: dark) { :root:not([data-theme="light"]) .privacy-surface {
  background: linear-gradient(135deg, var(--card-tint), rgba(224, 154, 127, 0.04));
} }
:root[data-theme="dark"] .privacy-surface {
  background: linear-gradient(135deg, var(--card-tint), rgba(224, 154, 127, 0.04));
}

.privacy-surface p {
  margin-top: var(--space-m);
  margin-bottom: 0;
}

.privacy-list {
  margin: 0;
  padding-left: 1.15rem;
  display: grid;
  gap: var(--space-s);
}

/* --- Waitlist CTA --- */
.cta .waitlist {
  padding: var(--space-xxxxl) var(--space-xxl);
  text-align: center;
  background: linear-gradient(
    145deg,
    var(--card-tint),
    rgba(106, 74, 150, 0.12)
  );
}

@media (prefers-color-scheme: dark) { :root:not([data-theme="light"]) .cta .waitlist {
  background: linear-gradient(145deg, var(--card-tint), rgba(141, 106, 188, 0.1));
} }
:root[data-theme="dark"] .cta .waitlist {
  background: linear-gradient(145deg, var(--card-tint), rgba(141, 106, 188, 0.1));
}

.waitlist h2 {
  color: var(--color-primary);
}

.waitlist p {
  margin: var(--space-m) auto 0;
  max-width: 48ch;
}

.waitlist .button {
  margin-top: var(--space-xl);
}

/* --- Footer --- */
.footer {
  padding-bottom: var(--space-xxxl);
}

.footer-content {
  padding: var(--space-xxl) var(--space-l);
  text-align: center;
}

.footer-brand {
  display: inline-flex;
  align-items: center;
  gap: var(--space-s);
  margin-bottom: var(--space-s);
}

.footer-icon {
  width: 2rem;
  height: 2rem;
  border-radius: var(--space-s);
}

.footer-name {
  font-family: "Fraunces", "Times New Roman", serif;
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--text-primary);
}

.footer-tagline {
  margin: 0 0 var(--space-l);
  color: var(--text-body);
  font-size: 0.95rem;
}

.footer-links {
  display: flex;
  justify-content: center;
  gap: var(--space-xl);
  margin-bottom: var(--space-l);
}

.footer-links a {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 600;
}

.footer-links a:hover {
  text-decoration: underline;
}

.footer-copy {
  margin: 0;
  color: var(--text-muted);
  font-size: 0.8rem;
}

/* --- Reveal animations --- */
.reveal {
  opacity: 0;
  transform: translate3d(0, 20px, 0);
  transition: opacity var(--motion-slow) ease,
              transform var(--motion-slow) var(--spring-ease);
  transition-delay: 40ms;
}

.reveal.in-view {
  opacity: 1;
  transform: translate3d(0, 0, 0);
}

/* Staggered reveals for grid children */
.story-grid .reveal:nth-child(2) { transition-delay: 120ms; }
.story-grid .reveal:nth-child(3) { transition-delay: 200ms; }

.together-showcase .reveal:nth-child(2) { transition-delay: 120ms; }

/* --- Responsive: Tablet (720–980px) --- */
@media (max-width: 980px) {
  .site-header {
    top: var(--space-xs);
    border-radius: var(--radius-xl);
  }

  .hero {
    grid-template-columns: 1fr;
    min-height: auto;
  }

  .hero-visual {
    margin-top: var(--space-s);
    min-height: 640px;
  }

  .phone-main {
    left: 0;
  }

  .phone-offset {
    right: 2%;
  }

  .story-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .story:last-child {
    grid-column: 1 / -1;
  }

  .feature-showcase {
    grid-template-columns: 1fr;
    gap: var(--space-xxl);
  }

  .feature-showcase--reverse {
    direction: ltr;
  }

  .feature-showcase-visual {
    order: -1;
  }

  .insights-hero {
    grid-template-columns: 1fr;
  }

  .together-showcase,
  .privacy-surface {
    grid-template-columns: 1fr;
  }
}

/* --- Responsive: Mobile (<720px) --- */
@media (max-width: 720px) {
  .wrapper {
    width: min(var(--page-max-width), calc(100% - var(--space-l)));
  }

  .nav-toggle {
    display: flex;
  }

  .site-header {
    position: sticky;
    top: var(--space-xs);
    flex-wrap: wrap;
    border-radius: var(--radius-xl);
    padding: var(--space-s) var(--space-l);
  }

  .site-header nav {
    display: none;
    flex-direction: column;
    width: 100%;
    padding-top: var(--space-s);
    border-top: 1px solid var(--glass-stroke);
    gap: var(--space-xs);
  }

  .site-header nav.is-open {
    display: flex;
  }

  nav a {
    padding: var(--space-s) 0;
  }

  main {
    padding-top: var(--space-xl);
  }

  .section {
    margin-bottom: 3.2rem;
  }

  .phone-stack {
    min-height: 590px;
  }

  .phone {
    width: min(17.6rem, 72vw);
  }

  .phone-main {
    top: 0;
    left: 0;
    transform: rotate(-2deg);
  }

  .phone-offset {
    top: 26%;
    right: 0;
    transform: rotate(5deg);
  }

  .story-grid {
    grid-template-columns: 1fr;
  }

  .story:last-child {
    grid-column: auto;
  }
}

/* --- Reduced motion --- */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  .site-header,
  .button,
  .button:hover,
  .button:active,
  nav a,
  .cta-link,
  .reveal,
  .reveal.in-view,
  .story,
  .story:hover,
  .nav-toggle-bar {
    transition: none;
  }

  .reveal,
  .reveal.in-view {
    opacity: 1;
    transform: none;
  }
}
